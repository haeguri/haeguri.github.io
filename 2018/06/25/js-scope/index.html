<!DOCTYPE html><html lang="ko"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 자바스크립트 변수 스코프(Scope) - 1 · private dev log</title><meta name="description" content="자바스크립트 변수 스코프(Scope) - 1 - Haegyun Jung"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://github.com/haeguri/atom.xml" title="private dev log"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/haeguri" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">자바스크립트 변수 스코프(Scope) - 1</h1><div class="post-info">2018년 6월 25일</div><div class="post-content"><p>프로그래밍 언어에서 스코프(Scope)는 변수에 접근할 수 있는 범위를 결정한다. 변수가 어떤 스코프에서 선언되었는가에 따라서 그 범위는 달라진다. 프로그래밍 언어들은 저마다의 스코프 규칙을 갖고 있는데 자바스크립트도 역시 자신만의 규칙을 갖고 있다. 자바스크립트에서 사용되는 변수의 스코프는 크게 전역 스코프(Global Scope)와 지역 스코프(Local Scope)로 나뉜다.</p>
<h2 id="전역-스코프"><a href="#전역-스코프" class="headerlink" title="전역 스코프"></a>전역 스코프</h2><p>전역 스코프는 모든 자바스크립트 코드에서 접근할 수 있는 영역이다. 전역 스코프에 전역 변수를 선언하면 해당 변수 또한 어디서든 접근 가능하다. 전역 변수를 선언하는 기본적인 방법은 <code>var</code> 키워드로 함수 밖에서 변수를 선언하는 것이다.</p>
<h4 id="전역변수-선언-var"><a href="#전역변수-선언-var" class="headerlink" title="전역변수 선언 - var"></a>전역변수 선언 - <code>var</code></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    var globalA = 1;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    function print() &#123;</span></span><br><span class="line"><span class="undefined">        console.log(globalA);</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    console.log(globalA);</span></span><br><span class="line"><span class="undefined">    print();</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    console.log(globalA);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[ 실행결과 ]</span><br><span class="line">----------</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<h4 id="전역변수-선언-window"><a href="#전역변수-선언-window" class="headerlink" title="전역변수 선언 - window"></a>전역변수 선언 - <code>window</code></h4><p>전역변수를 선언하는 또 다른 방법이 있는데, 자바스크립트 내장 객체인 <code>window</code> 객체의 프로퍼티에 전역 변수로 사용할 데이터를 추가하는 방법이다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    window.globalA = 1;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    function print() &#123; </span></span><br><span class="line"><span class="undefined">        console.log(globalA); </span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    console.log(globalA);</span></span><br><span class="line"><span class="undefined">    print();</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    console.log(globalA); </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[ 실행결과 ]</span><br><span class="line">----------</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p><code>window</code> 객체의 프로퍼티로 <code>globalA</code>를 추가하면, 앞에서 <code>var</code>로 선언한 것과 동일하게 전역변수로서 사용할 수 있게 된다. 반대로 <code>var</code>로 전역 변수를 선언하더라도 <code>window</code> 객체의 프로퍼티로 추가되는데, 이것은 <code>Object.prototype.hasOwnProperty</code> 메서드로 확인해볼 수 있다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    var globalA = 1;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    console.log(window.hasOwnProperty(‘globalA’));</span></span><br><span class="line"><span class="undefined">    console.log(window.globalA === 1); </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[ 실행결과 ]</span><br><span class="line">----------</span><br><span class="line">true</span><br><span class="line">true</span><br></pre></td></tr></table></figure>
<h4 id="“전역함수”-선언"><a href="#“전역함수”-선언" class="headerlink" title="“전역함수” 선언"></a>“전역함수” 선언</h4><p>전역 스코프에는 변수 뿐만 아니라 <strong>함수</strong>도 선언할 수 있다. 아래의 코드를 보자.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    function globalFunc() &#123;</span></span><br><span class="line"><span class="undefined">        console.log('global function');</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    globalFunc();</span></span><br><span class="line"><span class="undefined">    console.log(window.hasOwnProperty(‘globalFunc’));</span></span><br><span class="line"><span class="undefined">    console.log(window.globalFunc === globalFunc); </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[ 실행결과 ]</span><br><span class="line">----------</span><br><span class="line">&apos;global function&apos;</span><br><span class="line">true</span><br><span class="line">true</span><br></pre></td></tr></table></figure>
<p>두 번째 <code>&lt;script&gt;</code>에서는 첫 번째 <code>&lt;script&gt;</code>에서 선언된 <code>globalFunc</code> 함수를 호출하고 있으며, 실행결과를 보면 정상적으로 함수를 호출하는 것을 확인할 수 있다. 또 전역변수의 경우와 마찬가지로 전역함수를 선언했을 때도 <code>window</code> 객체에 추가되는 것을 <code>hasOwnProperty</code> 메서드로 확인할 수 있다. </p>
<h4 id="전역변수-전역함수를-선언할-때-주의할-점"><a href="#전역변수-전역함수를-선언할-때-주의할-점" class="headerlink" title="전역변수, 전역함수를 선언할 때 주의할 점"></a>전역변수, 전역함수를 선언할 때 주의할 점</h4><p>전역 스코프는 하나의 HTML 문서에서 동작하는 자바스크립트 코드들 사이에서 <strong>공유된다</strong>. 즉, 모든 자바스크립트에서 한 개의 전역 스코프를 바라보고 있다. 그렇기 떄문에 전역 스코프를 지나치게 오염시켰을 경우 다른 라이브러리와 충돌하여 예상하지 못한 동작을 불러일으킬 수 있다.</p>
<p>최근의 자바스크립트 개발에서는 위의 예제처럼 모듈화를 하지않는 경우가 거의 없어서 전역 변수를 선언할 일이 거의 없다. 그럼에도 불구하고 전역변수를 선언해야 할 일이 생긴다면 정말 필요한 것인지 신중하게 고려해야 한다.</p>
<p>최근에는 위의 예제처럼 모듈화 없이 자바스크립트를 사용하는 경우는 거의 없지만, 혹시라도 전역변수를 선언해야 할 경우에는 신중하게 고려하고 선언해야 한다.</p>
<!--
## 지역 스코프

지역 스코프의 유효 범위는 전역 스코프와 달리 일부로 한정되어 있다. 지역 변수를 선언할 수 있는 지역 스코프는 **함수 스코프**와 ECMAScript 2015부터 추가된 **블록 스코프**가 있다.

#### 함수 스코프 (Function Scope)

함수 스코프로 변수를 선언하면 그 변수는 변수를 선언한 함수 안에서만 접근할 수 있다. 즉, 함수 외부에서는 변수에 접근할 수 없게 된다. 

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> localA = <span class="number">1</span>; <span class="comment">// 1</span></span><br><span class="line">    <span class="built_in">console</span>.log(localA); <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f1(); </span><br><span class="line"><span class="built_in">console</span>.log(localA); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[ 실행결과 ]</span><br><span class="line">----------</span><br><span class="line">1</span><br><span class="line">Uncaught ReferenceError: localA is not defined</span><br></pre></td></tr></table></figure>
<p>위의 코드를 살펴보면 <code>f1</code> 함수의 본문에서 <code>localA</code>를 선언하고, <code>localA</code>를 출력하고 있다. 그리고 <code>f1</code> 함수를 실행해보면 <code>localA</code>가 <code>f1</code> 함수의 스코프에서 선언되었으므로 로그는 정상적으로 출력된다. 하지만 <code>f1</code> 함수 외부에서 <code>localA</code> 변수의 값을 출력하려고 시도했을 때, 함수의 외부에서는 <code>localA</code>가 정의되지 않았기 때문에 에러가 발생했다.</p>
<h4 id="중첩된-함수-스코프"><a href="#중첩된-함수-스코프" class="headerlink" title="중첩된 함수 스코프"></a>중첩된 함수 스코프</h4><p>한 개의 함수가 아니라, 두 개의 함수가 중첩된 상황에서는 어떻게 될까? </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> localA = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> localB = <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(localA);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    f2();</span><br><span class="line">    <span class="built_in">console</span>.log(localB)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f1();</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[ 실행결과 ]</span><br><span class="line">----------</span><br><span class="line">1</span><br><span class="line">Uncaught ReferenceError: localB is not defined</span><br></pre></td></tr></table></figure>
<p>실행 결과를 보면 내부 함수 <code>f2</code>(<strong>내부 스코프</strong>)에서는 외부 함수 <code>f1</code>(<strong>외부 스코프</strong>)에서 선언된 변수에 접근할 수 있는 것을 확인할 수 있다. 하지만 외부 스코프에서는 내부 스코프에서 선언된 변수에 접근할 수 없다.</p>
<h4 id="지역-스코프의-형성"><a href="#지역-스코프의-형성" class="headerlink" title="지역 스코프의 형성"></a>지역 스코프의 형성</h4><h4 id="블록-스코프"><a href="#블록-스코프" class="headerlink" title="블록 스코프"></a>블록 스코프</h4><p>–&gt;</p>
--></div></article></div></main><footer><div class="paginator"></div><div class="copyright"><p>© 2018 <a href="https://github.com/haeguri">Haegyun Jung</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>